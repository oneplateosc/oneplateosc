<%# new.html.erb %>

<div class="form-container" id="formContainer">
  <h1>スコア作成フォーム</h1>

  <%= form_with(model: @score, local: false, id: 'score-form') do |form| %>
    <div class="song-info">
      <%= form.text_field :title, placeholder: "曲名", id: "songTitle" %>
      <%= form.text_field :artist, placeholder: "アーティスト名", id: "artistName" %>
    </div>

    <div id="rows-container">
      <!-- JavaScriptで動的に行が追加されます -->
    </div>
  
    <button id="addButton" type="button">追加</button>
    <%= form.submit '保存', id: 'saveButton' %>
  <% end %>
</div>

<template id="row-template">
  <div class="row-container">
    <div class="row-header">
      <input type="text" placeholder="展開名を入力" class="section-input">
      <div class="drag-handle">&#9776;</div>
    </div>
    <div class="table-and-buttons-container">
      <table class="score-table">
        <tr class="code-row">
          <% 16.times do %>
            <td colspan="2"><input type="text" class="codeInput" placeholder=""></td>
          <% end %>
        </tr>
        <tr class="number-row">
          <% 32.times do %>
            <td><div class="number-container"><input type="text" class="numberInput" placeholder=""></div></td>
          <% end %>
        </tr>
      </table>
      <div class="buttonContainer">
        <button class="duplicateButton" type="button">複製</button>
        <button class="deleteButton" type="button">削除</button>
      </div>
    </div>
  </div>
</template>